(function(){function b(a,g){this.routes=a.routes;this.opts=a;this.sep=g||"";if("/"===this.sep){var d=this;c.onload=function(){d.exec(location.pathname)}}}if(window){var c=window,e="pushState"in history?"popstate":"hashchange",f=[/[\-{}\[\]+?.,\\\^$|#\s]/g,/\((.*?)\)/g,/(\(\?)?:\w+/g,/\*\w+/g],k=function(a){a=a.replace(f[0],"\\$&").replace(f[1],"(?:$1)?").replace(f[2],function(a,d){return d?a:"([^/?]+)"}).replace(f[3],"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},h=function(a,g){var d=
a.exec(g).slice(1),b=[],c;for(c=0;c<d.length;c++)b.push(decodeURIComponent(d[c])||null);return b};b.prototype.exec=function(a){for(var b in this.routes){var d=k(b);if(d.test(a))if("function"===typeof this.routes[b])this.routes[b].apply(this,h(d,a));else{var c=this.opts[this.routes[b]];c?c.apply(this,h(d,a)):void 0}}};b.prototype.start=function(){c.addEventListener?c.addEventListener(e,this.exec,!1):c.attachEvent("on"+e,this.exec)};b.prototype.stop=function(){c.removeEventListener?c.removeEventListener(e,
this.exec,!1):c.detachEvent("on"+e,this.exec)};b.prototype.go=function(a){"pushState"in history?history.pushState({state:a},document.title,a):"/"===!this.sep&&(location.hash=this.sep+a);this.exec(a)};b.prototype.hold=function(a){if(a){var b=!1,c=a.srcElement.pathname;"pushState"in history||(c="/"+c,"/"===this.sep&&(b=!0));this.go(c);if(a&&a.preventDefault)a.preventDefault();else if(!b)return a.returnValue=!1}};b.prototype.back=function(){history.back()};"object"===typeof exports?module.exports=b:
"function"===typeof define&&define.amd?define(function(){return window.MinRouter=b}):window.MinRouter=b}})("undefined"!=typeof window?window:void 0);